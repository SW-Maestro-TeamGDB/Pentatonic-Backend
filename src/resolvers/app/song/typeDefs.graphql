extend type Mutation {
    """
    SONG의 기본 음원을 업로드 합니다
    """
    uploadDefaultFile(
        input: UploadDefaultFileInput!
    ): URL!

    """
    Song을 업로드 합니다
    """
    uploadSong(
        input: UploadSongInput!
    ): Song!

    """
    Song을 업데이트 합니다
    """
    updateSong(
        input: UpdateSongInput!
    ): Song!


    uploadInstrument(
        input: UploadInstrumentInput!
    ): Instrument!

    updateInstrument(
        input: UpdateInstrumentInput!
    ): Instrument!
}

extend type Query {
    """Penta-Tonic에 있는 모든 곡을 불러옵니다"""
    getAllSongs: [Song!]!
}

input UpdateInstrumentArgs{
    songId: ObjectID
    instId: ObjectID!
    name: String
    instrumentURI: URL
}

input UpdateInstrumentInput {
    code: String!
    instrument: UpdateInstrumentArgs!
}

input UploadDefaultFileInput {
    code: String!
    file: Upload!
}

input UploadSongInput {
    "권한을 확인하기 위한 코드입니다"
    code: String!
    "음원 정보 입니다"
    song: SongInput!
}

"""올라와 있는 곡에 대한 세션별 연주에 대한 타입입니다"""
type Instrument {
    "데모 세션에 대한 id 입니다"
    instId: ObjectID!
    "해당 연주가 업로드 되어있는 노래에 대한 id 입니다"
    songId: ObjectID!
    "연주의 파일 주소입니다"
    instrumentURI: URL!
    "파일의 이름 입니다"
    name: String!
    "파일의 길이 입니다"
    duration: Float!
}

"""올라와 있는 곡에 대한 타입입니다"""
type Song {
    songId: ObjectID!
    name: String!
    songURI: URL!
    songImg: URL!
    genre: String!
    artist: String!
    album: String!
    weeklyChallenge: Boolean!
    duration: Float!
    level: Int!
    instrument: [Instrument!]!
    releaseDate: Date!
}

input SongInput {
    name: String!
    songURI: URL!
    songImg: URL!
    genre: String!
    artist: String!
    weeklyChallenge: Boolean!
    level: Int!
    releaseDate: Date!
    album: String!
}

input UploadInstrumentArgs {
    songId: ObjectID!
    name: String!
    instrumentURI: URL!
}

input UploadInstrumentInput {
    code: String!
    instrument: UploadInstrumentArgs!
}

input UpdateSong {
    songId: ObjectID!
    name: String
    songURI: URL
    songImg: URL
    genre: String
    artist: String
    releaseDate: Date
    weeklyChallenge: Boolean
    level: Int
    album: String
}

input UpdateSongInput {
    code: String!
    song: UpdateSong!
}
